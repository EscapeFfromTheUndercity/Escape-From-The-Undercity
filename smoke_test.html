<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Smoke Test</title>
<style>
  body{margin:0;background:#000;color:#fff;font-family:system-ui}
  .scene{position:relative;width:min(980px,96vw);margin:20px auto}
  .scene img{display:block;width:100%;height:auto;border-radius:8px}
  .smoke{
    position:absolute;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    background-image:
      linear-gradient(rgba(255,255,255,.2) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,.2) 1px, transparent 1px);
    background-size:50px 50px;
  }
  .puff{
    position:absolute;
    left:0;
    bottom:0;
    width:48px;
    height:48px;
    border-radius:50%;
    background:radial-gradient(circle, rgba(120,120,120,1), rgba(60,60,60,.85) 55%, rgba(60,60,60,0) 80%);
    filter:blur(3px);
    opacity:0;
    animation:rise var(--dur,7s) linear infinite;
  }
  .p2{width:60px;height:60px;animation-delay:1.2s}
  .p3{width:70px;height:70px;animation-delay:2.4s}
  @keyframes rise{
    0%{transform:translate(0,0) scale(1);opacity:0}
    10%{opacity:.9}
    70%{opacity:.9}
    100%{transform:translate(var(--dx,40px), var(--dy,-300px)) scale(1.6);opacity:0}
  }
  /* Drift options */
@keyframes riseR{
  0%{transform:translate(0,0) scale(1);opacity:0}
  10%{opacity:.9} 70%{opacity:.9}
  100%{transform:translate(60px,-320px) scale(1.6);opacity:0}
}
@keyframes riseL{
  0%{transform:translate(0,0) scale(1);opacity:0}
  10%{opacity:.9} 70%{opacity:.9}
  100%{transform:translate(-40px,-320px) scale(1.6);opacity:0}
}
.r{ animation: riseR 7s linear infinite !important; }
.l{ animation: riseL 7s linear infinite !important; }
  .scene img{
    outline:1px solid rgba(255,255,255,.3);
    background-image:
      linear-gradient(rgba(255,255,255,.2) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,.2) 1px, transparent 1px);
    background-size:50px 50px;
  }
</style>
</head>
<body>
  <div class="scene">
    <img src="escape.jpg" alt="image">
    <div class="smoke">
      <!-- each triple below = one chimney trail -->
      <div class="puff" style="left:-25px;bottom:640px; --dx:60px; --dy:-320px;"></div>
      <div class="puff p2" style="left:-25px;bottom:640px; --dx:60px; --dy:-320px;"></div>
      <div class="puff p3" style="left:-25px;bottom:640px; --dx:60px; --dy:-320px;"></div>

      <div class="puff" style="left:-20px;bottom:150px;"></div>
      <div class="puff p2" style="left:-20px;bottom:150px;"></div>
      <div class="puff p3" style="left:-20px;bottom:150px;"></div>

      <div class="puff" style="left:105px;bottom:90px;"></div>
      <div class="puff p2" style="left:105px;bottom:90px;"></div>
      <div class="puff p3" style="left:105px;bottom:90px;"></div>

      <div class="puff" style="left:180px;bottom:60px;"></div>
      <div class="puff p2" style="left:180px;bottom:60px;"></div>
      <div class="puff p3" style="left:180px;bottom:60px;"></div>

      <div class="puff" style="left:280px;bottom:325px;"></div>
      <div class="puff p2" style="left:280px;bottom:325px;"></div>
      <div class="puff p3" style="left:280px;bottom:325px;"></div>

      <div class="puff" style="left:310px;bottom:80px;"></div>
      <div class="puff p2" style="left:310px;bottom:80px;"></div>
      <div class="puff p3" style="left:310px;bottom:80px;"></div>

      <div class="puff" style="left:515px;bottom:75px;"></div>
      <div class="puff p2" style="left:515px;bottom:75px;"></div>
      <div class="puff p3" style="left:515px;bottom:75px;"></div>

      <div class="puff" style="left:680px;bottom:360px;"></div>
      <div class="puff p2" style="left:680px;bottom:360px;"></div>
      <div class="puff p3" style="left:680px;bottom:360px;"></div>

      <div class="puff" style="left:835px;bottom:370px;"></div>
      <div class="puff p2" style="left:835px;bottom:370px;"></div>
      <div class="puff p3" style="left:835px;bottom:370px;"></div>

      <div class="puff" style="left:950px;bottom:140px;"></div>
      <div class="puff p2" style="left:950px;bottom:140px;"></div>
      <div class="puff p3" style="left:950px;bottom:140px;"></div>
    </div>
  </div>
</body>
</html>
